<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <Import Project="$(ProjectDir)TsGenerator.props" />
  
  <Target Name="AfterResolveReferences">

    <PropertyGroup>
      <DebugParam Condition="'$(TsGenDebug)' == 'true'">--debugger</DebugParam>
      <WebApiParam Condition="'$(TsGenWebApiMethods)' == 'true'">--webapiactions</WebApiParam>

      <ExecCmd>&quot;$(MSBuildThisFileDirectory)TypeScriptDefinitionsGenerator.exe&quot; -a $(TsGenInputAssembly) -o $(TsGenOutputFolder) $(WebApiParam) $(DebugParam)</ExecCmd>
    </PropertyGroup>

    <Message Text="TypeScriptGenerator Exec Command: $(ExecCmd)"></Message>
    <Message Text="TypeScriptGenerator Working Folder: $(ProjectDir)"></Message>
    <Exec Command="$(ExecCmd)" WorkingDirectory="$(ProjectDir)" />
    
  </Target>

</Project>